{% extends "base.html" %}
{% block content %}

<div class="stage-wrapper">

    <img src="{{ url_for('static', filename='assets/images/theming/woodwork-tools3-min.png') }}"
        alt="image of various woodworking woodworking tools" class="background-image">

    <main class="container content-wrapper">

        <h3 class="center-align all-methods white-text">All DIY Methods</h3>

        <div class="row card-panel search-background">
            <form action="{{ url_for('search') }}" method="POST" class="col s12">
                <div class="row valign-wrapper center-align">
                    <div class="input-field col s12 m8">
                        <i class="fas fa-search prefix orange-text text-darken-2"></i>
                        <input type="text" name="query" minlength="3" id="query" class="validate" required>
                        <label for="query">Search Methods</label>
                    </div>
                    <div class="col s12 m4">
                        <a href="{{ url_for('get_methods') }}" class="red btn">
                            Reset
                        </a>
                        <button type="submit" class="orange darken-2 btn">
                            <i class="fas fa-search left"></i> Search
                        </button>
                    </div>
                </div>
            </form>
        </div>

        {% if methods|length > 0 %}
        {% for method in methods %}
        <div class="row">
            <div class="col s12 m8 offset-m2">
                <div class="card orange darken-2">
                    <div class="card-content white-text">
                        <span class="card-title title">{{ method.method_name }}</span>
                        <span>&nbsp;&nbsp;by {{ method.created_by }}</span>
                        <span class="right category-name">{{ method.category_name }}</span>
                        <p>{{ method.method_description }}</p>
                    </div>
                    <div class="card-action black-text">
                        <a href="{{ url_for('method', method_id=method._id) }}" target="_blank">View Method</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
            <h3 class="center-align all-methods deep-orange-text text-lighten-5">No Results Found</h3>
        {% endif %}
    </main>
</div>
{% endblock %}